<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation prerequisites &mdash; Processor for Analyzing XENON1T 5.6.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Processor for Analyzing XENON1T 5.6.0 documentation" href="index.html" />
    <link rel="next" title="Installation and setup" href="faq.html" />
    <link rel="prev" title="Welcome to processor for Analyzing XENON1T’s documentation!" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <img alt="docs/pax_logo_bw_cropped.png" src="docs/pax_logo_bw_cropped.png" />
<p>The Processor for Analyzing XENON (PAX) is used for doing digital signal
processing and other data processing on the XENON100/XENON1T raw data.</p>
<ul class="simple">
<li>Free software: BSD license</li>
<li>Documentation: <a class="reference external" href="http://xenon1t.github.io/pax/">http://xenon1t.github.io/pax/</a>.</li>
</ul>
<a class="reference external image-reference" href="https://travis-ci.org/XENON1T/pax"><img alt="https://travis-ci.org/XENON1T/pax.svg?branch=master" src="https://travis-ci.org/XENON1T/pax.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://coveralls.io/r/XENON1T/pax?branch=master"><img alt="https://coveralls.io/repos/XENON1T/pax/badge.svg?branch=master" src="https://coveralls.io/repos/XENON1T/pax/badge.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://gitter.im/XENON1T/pax"><img src="http://img.shields.io/badge/gitter-XENON1T/pax-blue.svg" /></a>
<div class="section" id="installation-prerequisites">
<h1>Installation prerequisites<a class="headerlink" href="#installation-prerequisites" title="Permalink to this headline">¶</a></h1>
<p>We will assume you are installing on Mac or Linux here. For installation on Windows,
see <a class="reference external" href="http://xenon1t.github.io/pax/faq.html#can-i-set-up-pax-on-my-windows-machine">this FAQ entry</a>.</p>
<p>Instead of installing pax you can use pax from the central installation on xecluster or other cluster. See the <a class="reference external" href="https://github.com/XENON1T/pax/blob/master/docs/faq.rst">FAQ</a> for more details.</p>
<p>If you wish to develop pax, you can either follow these instructions from the beginning which installs your own copy of the Anaconda libraries, or use an existing Anaconda installation (skip to the &#8220;Setting Up the Anaconda Libraries&#8221; section below for this).</p>
<div class="section" id="installing-python-3-and-anaconda-libraries">
<h2>Installing Python 3 and Anaconda Libraries<a class="headerlink" href="#installing-python-3-and-anaconda-libraries" title="Permalink to this headline">¶</a></h2>
<p>Pax is written in Python; we recommend the scientific python distribution <a class="reference external" href="https://store.continuum.io/cshop/anaconda/">Anaconda</a>. To install this in Linux do:</p>
<div class="highlight-python"><div class="highlight"><pre>wget http://repo.continuum.io/archive/Anaconda3-2.4.0-Linux-x86_64.sh  # Linux
bash Anaconda3-2.4.0-Linux-x86_64.sh  # Say &#39;yes&#39; to appending to .bashrc and specify the installation directory
conda install -q conda=4.1.1
</pre></div>
</div>
<hr class="docutils" />
<p>The last line is a temporary workaround.</p>
<p>For Mac OS X, you should instead download the .sh file located here:</p>
<blockquote>
<div><a class="reference external" href="http://repo.continuum.io/archive/Anaconda3-2.4.0-MacOSX-x86_64.sh">http://repo.continuum.io/archive/Anaconda3-2.4.0-MacOSX-x86_64.sh</a></div></blockquote>
<p>In the directory containing the file above, run the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>bash Anaconda3-2.4.0-MacOSX-x86_64.sh  # Say &#39;yes&#39; to appending to .bashrc and specify the installation directory
</pre></div>
</div>
</div>
<div class="section" id="setting-up-the-anaconda-libraries">
<h2>Setting Up the Anaconda Libraries<a class="headerlink" href="#setting-up-the-anaconda-libraries" title="Permalink to this headline">¶</a></h2>
<p>For both Linux and Mac OS X:</p>
<div class="highlight-python"><div class="highlight"><pre>export PATH=~/anaconda3/bin:$PATH  # If installed in default location, otherwise replace with the
                                   # path you specified above or the path of the central installation
</pre></div>
</div>
<p>You need to point Anaconda to the physics-specific packages e.g. ROOT.  You can do this by running the following:</p>
<div class="highlight-python"><div class="highlight"><pre>conda config --add channels http://conda.anaconda.org/NLeSC
</pre></div>
</div>
</div>
<div class="section" id="check-that-no-other-root-is-seen">
<h2>Check that no other ROOT is seen<a class="headerlink" href="#check-that-no-other-root-is-seen" title="Permalink to this headline">¶</a></h2>
<p>Several people have encountered ROOT incompatibility issues when installing pax. Before continuing, we advise you to check that no other ROOT version that can be seen by your terminal, e.g try:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">root</span>
</pre></div>
</div>
<p>Which should return <code class="docutils literal"><span class="pre">bash:</span> <span class="pre">root:</span> <span class="pre">command</span> <span class="pre">not</span> <span class="pre">found</span></code>.  Also check that Python cannot see ROOT:</p>
<div class="highlight-python"><div class="highlight"><pre>python -c &quot;import ROOT&quot;
</pre></div>
</div>
<p>should say <code class="docutils literal"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">'ROOT'</span></code>.</p>
<p>If there are multiple versions of ROOT around, strange segfaults and other weird issues can result. This is an issue with ROOT and not pax.</p>
</div>
<div class="section" id="additional-python-packages">
<h2>Additional python packages<a class="headerlink" href="#additional-python-packages" title="Permalink to this headline">¶</a></h2>
<p>Pax depends on several other python packages. While most python packages will install automatically,
some contain C++ code which must be compiled. With Anaconda you can get appropriate binaries
for your platform using the <cite>conda</cite> tool as follows. Make sure to replace &lt;environment_name&gt; with the desired name of your environment (usually it is &#8216;pax&#8217; for central installations) in the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>conda update conda
conda create -n &lt;environment_name&gt; python=3.4 root=6 numpy scipy=0.16 matplotlib pandas cython h5py numba pip python-snappy pytables scikit-learn rootpy pymongo psutil jupyter
</pre></div>
</div>
<p>If you do not want ROOT support, or have ROOT-related issues, you can leave out root and rootpy in the above command. Everything in pax, except of course ROOT I/O, will continue to work. You can also try root=6 for the newer version of ROOT.</p>
<p>Whenever you want to use <cite>pax</cite>, you have to run the following command to set it up your environment (containing all the dependencies):</p>
<div class="highlight-python"><div class="highlight"><pre>source activate &lt;environment_name&gt;
</pre></div>
</div>
<p>You can put this in your <cite>.bashrc</cite> if you want it to be setup when you login. For the rest of the installation and to run pax, be sure to be inside this environment. There should be (&lt;environment_name&gt;) at the beginning of your command line.</p>
<hr class="docutils" />
<p>Of course we assume you have a functional basic compilation environment. On a fresh Ubuntu you may have to do e.g.</p>
<blockquote>
<div>sudo apt-get install build-essential</div></blockquote>
<p>to setup the necessary compilers.</p>
<p>On a Mac, please run the following to make sure that ROOT works:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">xcode</span><span class="o">-</span><span class="n">select</span> <span class="o">--</span><span class="n">install</span>
</pre></div>
</div>
</div>
<div class="section" id="git-and-github">
<h2>Git and Github<a class="headerlink" href="#git-and-github" title="Permalink to this headline">¶</a></h2>
<p>You must have <cite>git</cite> installed, which you can test by running at the command line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">git</span>
</pre></div>
</div>
<p>To get the code of pax, you need access to the private XENON1T github repository.  You can get this by emailing the <cite>pax</cite> developers.</p>
</div>
</div>
<div class="section" id="installing-pax">
<h1>Installing pax<a class="headerlink" href="#installing-pax" title="Permalink to this headline">¶</a></h1>
<p>There are two ways to install pax. Either method will automatically try to install any python packages pax depends on &#8211; although we hope you installed the most important ones already (see above). If a module does not install, try using <cite>conda</cite> or <cite>pip</cite> to install missing dependencies.</p>
<p><strong>WARNING: If you are working with a central installation of Anaconda, e.g. on Midway, Stockholm, or xecluster, there is a risk of overwriting the central installation (we are still working out some permissions issues)!</strong> To avoid this, make sure you are either using your own installation of Anaconda or have created a new environment by replacing &lt;environment_name&gt; in the instructions above.</p>
<div class="section" id="option-1-user-installation">
<h2>Option 1: User installation<a class="headerlink" href="#option-1-user-installation" title="Permalink to this headline">¶</a></h2>
<p>In this option the pax code will be hidden away somewhere deep in python&#8217;s directory structure so you won&#8217;t accidentally look at it and learn our dangerous secrets. Also, you will only be able to update pax after we make a new release (about once a month). If this appeals to you, run:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install git+https://github.com/XENON1T/pax.git
</pre></div>
</div>
<p>To update to a newer version, add ` &#8211;upgrade`` to the command above (or just run the same command again).</p>
</div>
<div class="section" id="option-2-developer-installation">
<h2>Option 2: Developer installation<a class="headerlink" href="#option-2-developer-installation" title="Permalink to this headline">¶</a></h2>
<p>In this option you&#8217;ll know where the code is, so you can look at it, play with it, and if you change anything you don&#8217;t need to reinstall for your changes to take effect... However, be aware you are using the very latest (&#8216;nightly&#8217;) version of pax, which may contain more bugs (but often contains less bugs).</p>
<p>First <cite>cd</cite> to the folder you want pax to be installed. Then run:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/XENON1T/pax.git
source activate &lt;environment_name&gt;  # Make sure you specify your own environment
                                    # when using a central installation of Anaconda
cd pax
python setup.py develop
</pre></div>
</div>
<p>To update to the latest pax, go to the directory with pax and run <cite>git pull</cite>.</p>
<p>If you think you&#8217;ve made a useful change, you can contribute it! But please check the
<a class="reference external" href="CONTRIBUTING.rst">relevant documentation section</a> first.</p>
</div>
<div class="section" id="to-check-if-your-installation-is-working">
<h2>To check if your installation is working<a class="headerlink" href="#to-check-if-your-installation-is-working" title="Permalink to this headline">¶</a></h2>
<p>Execute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">paxer</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<p>or</p>
<blockquote>
<div>paxer &#8211;input ~/pax/pax/data/xe100_120402_2000_000000.xed &#8211;stop_after 1 &#8211;plot &#8211;config=&#8221;XENON100&#8221;</div></blockquote>
<p>You should see a nice plot of a XENON100 event.</p>
</div>
</div>
<div class="section" id="pax-tutorial">
<h1>Pax Tutorial<a class="headerlink" href="#pax-tutorial" title="Permalink to this headline">¶</a></h1>
<p>This section assumes that pax is installed, either from the instructions above
or via <a class="reference external" href="http://xenon1t.github.io/pax/faq.html#how-do-i-run-pax-at-lngs-on-xecluster">the FAQ on running the code at LNGS</a>.</p>
<p>Now you should be able to run the command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">paxer</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<p>from anywhere, which will give you a list of other command line options. If you have a graphical display, try <cite>paxer &#8211;plot</cite> and <cite>paxer &#8211;plot_interactive</cite>. You can select some data with the <cite>&#8211;input</cite> option:</p>
<div class="highlight-python"><div class="highlight"><pre>paxer --input /archive/data/xenon100/run_14/xe100_150213_1411/xe100_150213_1411_000000.xed --event 0 --plot --config=&quot;XENON100&quot;
</pre></div>
</div>
<p>If you want to do something nonstandard, you can create your own configuration file
like <cite>my_file.ini</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">pax</span><span class="p">]</span>
<span class="n">parent_configuration</span> <span class="o">=</span> <span class="s">&#39;XENON100&#39;</span>
<span class="nb">input</span> <span class="o">=</span> <span class="s">&#39;XED.ReadXED&#39;</span>
<span class="n">output</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&#39;Plotting.PlotChannelWaveforms3D&#39;</span><span class="p">,</span>
           <span class="c">#&#39;Plotting.PlotEventSummary&#39;,</span>
         <span class="p">]</span>

<span class="p">[</span><span class="n">Plotting</span><span class="p">]</span>
<span class="n">log_scale_entire_event</span> <span class="o">=</span> <span class="bp">False</span>
<span class="c">#output_name = &#39;plots&#39;  # Uncomment to write plot to disk</span>
</pre></div>
</div>
<p>You can load this file with <cite>paxer</cite> by using the <cite>config_path</cite> option:</p>
<div class="highlight-python"><div class="highlight"><pre>paxer --config_path my_file.ini --input /archive/data/xenon100/run_14/xe100_150213_1411/xe100_150213_1411_000000.xed --event 0
</pre></div>
</div>
<p>You can uncomment the <cite>output_dir</cite> line to write the plots to a file.  Also, try
playing with what is in the list of outputs.  For example, you can reactivate
the <cite>PlotEventSummary</cite> that was produced in the first command from above.</p>
<p>There are many, many configuration options you can change.
You can look through other configuration files such as <cite>_base.ini</cite> and <cite>XENON100.ini</cite> to get an idea of what you can do. Also, you can try to explore what plugins are included in pax. You can ask us questions on gitter (click button above) or email. Oh, and did we mention the the documentation at <a class="reference external" href="http://xenon1t.github.io/pax/">http://xenon1t.github.io/pax/</a>?</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation prerequisites</a><ul>
<li><a class="reference internal" href="#installing-python-3-and-anaconda-libraries">Installing Python 3 and Anaconda Libraries</a></li>
<li><a class="reference internal" href="#setting-up-the-anaconda-libraries">Setting Up the Anaconda Libraries</a></li>
<li><a class="reference internal" href="#check-that-no-other-root-is-seen">Check that no other ROOT is seen</a></li>
<li><a class="reference internal" href="#additional-python-packages">Additional python packages</a></li>
<li><a class="reference internal" href="#git-and-github">Git and Github</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installing-pax">Installing pax</a><ul>
<li><a class="reference internal" href="#option-1-user-installation">Option 1: User installation</a></li>
<li><a class="reference internal" href="#option-2-developer-installation">Option 2: Developer installation</a></li>
<li><a class="reference internal" href="#to-check-if-your-installation-is-working">To check if your installation is working</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pax-tutorial">Pax Tutorial</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to processor for Analyzing XENON1T&#8217;s documentation!</a></li>
      <li>Next: <a href="faq.html" title="next chapter">Installation and setup</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/readme.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, Christopher Tunnell.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/readme.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>