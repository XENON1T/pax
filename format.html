<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Event format &mdash; Processor for Analyzing XENON1T 5.3.5 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.3.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Processor for Analyzing XENON1T 5.3.5 documentation" href="index.html" />
    <link rel="next" title="Plugins" href="plugin.html" />
    <link rel="prev" title="Installation and setup" href="faq.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="event-format">
<h1>Event format<a class="headerlink" href="#event-format" title="Permalink to this headline">¶</a></h1>
<p>In this document, we explain what lies within the <cite>pax</cite> event class and how to use it.  This even class is central to how <cite>pax</cite> works but also in how you analyze the resulting data.  All communication within <cite>pax</cite> is done by passing around this event class, therefore it contains all the information you should need.  We also serialize this event class to various outputs that contain all of the information below.</p>
<p>Please be aware that the event class is a tree, where e.g. there is a list of peak objects associated with the event.  Lastly, this document is automatically updated every release, so please feel free to expand upon the documentation in the source code (see pax/datastructure.py).</p>
<div class="section" id="event">
<h2>Event<a class="headerlink" href="#event" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.datastructure.Event">
<em class="property">class </em><code class="descclassname">pax.datastructure.</code><code class="descname">Event</code><span class="sig-paren">(</span><em>n_channels</em>, <em>start_time</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>Object holding high-level information about a triggered event,
and list of objects (such as Peak, Hit and Pulse) containing lower-level information.</p>
<dl class="method">
<dt id="pax.datastructure.Event.S1s">
<code class="descname">S1s</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.S1s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.S1s" title="Permalink to this definition">¶</a></dt>
<dd><p>See s1s</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Event.S2s">
<code class="descname">S2s</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.S2s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.S2s" title="Permalink to this definition">¶</a></dt>
<dd><p>See s2s</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.all_hits">
<code class="descname">all_hits</code><em class="property"> = array([],        dtype=[('area', '&lt;f8'), ('center', '&lt;f8'), ('channel', '&lt;i8'), ('found_in_pulse', '&lt;i8'), ('height', '&lt;f8'), ('index_of_maximum', '&lt;i8'), ('is_rejected', '?'), ('left', '&lt;i8'), ('n_saturated', '&lt;i8'), ('noise_sigma', '&lt;f8'), ('right', '&lt;i8'), ('sum_absolute_deviation', '&lt;f8')])</em><a class="headerlink" href="#pax.datastructure.Event.all_hits" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of all hits found in event
These will get grouped into peaks during clustering. New hits will be added when peaks are split.
NEVER rely upon the order of hits in this field! It depends on lunar phase and ambient pressure.
This is usually emptied before output (but not in LED mode)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.dataset_name">
<code class="descname">dataset_name</code><em class="property"> = 'Unknown'</em><a class="headerlink" href="#pax.datastructure.Event.dataset_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the dataset this event belongs to</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Event.duration">
<code class="descname">duration</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Duration of event window in units of ns</p>
</dd></dl>

<dl class="classmethod">
<dt id="pax.datastructure.Event.empty_event">
<em class="property">classmethod </em><code class="descname">empty_event</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.empty_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.empty_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an empty example event: for testing purposes only!!</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.event_number">
<code class="descname">event_number</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Event.event_number" title="Permalink to this definition">¶</a></dt>
<dd><p>A nonnegative integer that uniquely identifies the event within the dataset.</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Event.get_peaks_by_type">
<code class="descname">get_peaks_by_type</code><span class="sig-paren">(</span><em>desired_type='all'</em>, <em>detector='tpc'</em>, <em>sort_key='area'</em>, <em>reverse=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.get_peaks_by_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.get_peaks_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for retrieving only certain types of peaks
Returns a list of <a class="reference internal" href="pax.html#pax.datastructure.Peak" title="pax.datastructure.Peak"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.Peak</span></code></a> objects</p>
<blockquote>
<div>whose type is desired_type, and
who are in the detector specified by the &#8216;detector&#8217; argument (unless detector=&#8217;all&#8217;)</div></blockquote>
<p>The returned list is sorted DESCENDING (i.e. reversed!) by the key sort_key (default area)
unless you pass reverse=False, then it is ascending (normal sort order).</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Event.get_sum_waveform">
<code class="descname">get_sum_waveform</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.get_sum_waveform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.get_sum_waveform" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sum waveform object by name
Deprecated &#8211; for Xerawdp matching only</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Event.get_sum_waveform_names">
<code class="descname">get_sum_waveform_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.get_sum_waveform_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.get_sum_waveform_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of the names of sum waveform objects
Deprecated &#8211; for Xerawdp matching only</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.interactions">
<code class="descname">interactions</code><em class="property"> = &lt;pax.data_model.ListField object&gt;</em><a class="headerlink" href="#pax.datastructure.Event.interactions" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="pax.html#pax.datastructure.Interaction" title="pax.datastructure.Interaction"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.Interaction</span></code></a> objects.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.is_channel_suspicious">
<code class="descname">is_channel_suspicious</code><em class="property"> = array([], dtype=bool)</em><a class="headerlink" href="#pax.datastructure.Event.is_channel_suspicious" title="Permalink to this definition">¶</a></dt>
<dd><p>Was channel flagged as suspicious?</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Event.length">
<code class="descname">length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of samples in the event</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.lone_hits_per_channel">
<code class="descname">lone_hits_per_channel</code><em class="property"> = array([], dtype=int16)</em><a class="headerlink" href="#pax.datastructure.Event.lone_hits_per_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of lone hits per channel AFTER suspicious channel hit rejection.
lone_hit is a peak type (sorry, confusing...) indicating just one contributing channel</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.lone_hits_per_channel_before">
<code class="descname">lone_hits_per_channel_before</code><em class="property"> = array([], dtype=int16)</em><a class="headerlink" href="#pax.datastructure.Event.lone_hits_per_channel_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of lone hits per channel BEFORE suspicious channel hit rejection.
lone_hit is a peak type (sorry, confusing...) indicating just one contributing channel.
Use this to check / calibrate the suspicious channel hit rejection.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.main_s1">
<code class="descname">main_s1</code><a class="headerlink" href="#pax.datastructure.Event.main_s1" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the S1 of the primary interaction, or if that does not exist, the largest S1 in the tpc.
Returns None if neither exist</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.main_s2">
<code class="descname">main_s2</code><a class="headerlink" href="#pax.datastructure.Event.main_s2" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the S2 of the primary interaction, or if that does not exist, the largest S2 in the tpc.
Returns None if neither exist</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.n_channels">
<code class="descname">n_channels</code><em class="property"> = -99999</em><a class="headerlink" href="#pax.datastructure.Event.n_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of channels in the event (whether or not they see anything).
Has to be the same as n_channels in config, provided here for deserialization ease.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.n_hits_rejected">
<code class="descname">n_hits_rejected</code><em class="property"> = array([], dtype=int16)</em><a class="headerlink" href="#pax.datastructure.Event.n_hits_rejected" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of hits rejected per channel in the suspicious channel algorithm</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.noise_pulses_in">
<code class="descname">noise_pulses_in</code><em class="property"> = array([], dtype=int16)</em><a class="headerlink" href="#pax.datastructure.Event.noise_pulses_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of noise pulses (pulses without any hits found) per channel</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.peaks">
<code class="descname">peaks</code><em class="property"> = &lt;pax.data_model.ListField object&gt;</em><a class="headerlink" href="#pax.datastructure.Event.peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="pax.html#pax.datastructure.Peak" title="pax.datastructure.Peak"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.Peak</span></code></a> objects.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.pulses">
<code class="descname">pulses</code><em class="property"> = &lt;pax.data_model.ListField object&gt;</em><a class="headerlink" href="#pax.datastructure.Event.pulses" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <a class="reference internal" href="pax.html#pax.datastructure.Interaction" title="pax.datastructure.Interaction"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.Interaction</span></code></a> objects.
A pulse holds a stream of samples in one channel provided by the digitizer.
To save space, only the pulses contributing hits to S1s are kept in the output (but not in LED mode)
The order of this field cannot be changed after the hitfinder, since hits have a found_in_pulse field
referring to the index of a pulse in this field.</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Event.s1s">
<code class="descname">s1s</code><span class="sig-paren">(</span><em>detector='tpc'</em>, <em>sort_key='area'</em>, <em>reverse=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.s1s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.s1s" title="Permalink to this definition">¶</a></dt>
<dd><p>List of S1 (scintillation) signals in this event
In the ROOT class output, this returns a list of integer indices in event.peaks
Inside pax, returns a list of <a class="reference internal" href="pax.html#pax.datastructure.Peak" title="pax.datastructure.Peak"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.Peak</span></code></a> objects</p>
<blockquote>
<div>whose type is &#8216;s1&#8217;, and
who are in the detector specified by the &#8216;detector&#8217; argument (unless detector=&#8217;all&#8217;)</div></blockquote>
<p>The returned list is sorted DESCENDING (i.e. reversed!) by the key sort_key (default area)
unless you pass reverse=False, then it is ascending.</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Event.s2s">
<code class="descname">s2s</code><span class="sig-paren">(</span><em>detector='tpc'</em>, <em>sort_key='area'</em>, <em>reverse=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Event.s2s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Event.s2s" title="Permalink to this definition">¶</a></dt>
<dd><p>List of S2 (ionization) signals in this event
In the ROOT class output, this returns a list of integer indices in event.peaks.
Inside pax, returns a list of <a class="reference internal" href="pax.html#pax.datastructure.Peak" title="pax.datastructure.Peak"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.Peak</span></code></a> objects</p>
<blockquote>
<div>whose type is &#8216;s2&#8217;, and
who are in the detector specified by the &#8216;detector&#8217; argument (unless detector=&#8217;all&#8217;)</div></blockquote>
<p>The returned list is sorted DESCENDING (i.e. reversed!) by the key sort_key (default area)
unless you pass reverse=False, then it is ascending.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.sample_duration">
<code class="descname">sample_duration</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Event.sample_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Time duration of a sample (in ns).
For V1724 digitizers (e.g. XENON), this is 10 nanoseconds.
This is also in config, but we need it here too, to convert between event duration and length in samples
Must be an int for same reason as start_time and stop_time
DO NOT set to 10 ns as default, otherwise no way to check if it was given to constructor!</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.start_time">
<code class="descname">start_time</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Event.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer start time of the event in nanoseconds since January 1, 1970.
This is the time that the first sample starts.
NB: don&#8217;t do floating-point arithmetic on 64-bit integers such as these,
floats have rounding that result in loss of precision.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.stop_time">
<code class="descname">stop_time</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Event.stop_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer stop time of the event in nanoseconds since January 1, 1970.
This is the time that the last sample ends.
NB: don&#8217;t do floating-point arithmetic on 64-bit integers such as these,
floats have rounding that result in loss of precision.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.sum_waveforms">
<code class="descname">sum_waveforms</code><em class="property"> = &lt;pax.data_model.ListField object&gt;</em><a class="headerlink" href="#pax.datastructure.Event.sum_waveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>A list <a class="reference internal" href="pax.html#pax.datastructure.SumWaveform" title="pax.datastructure.SumWaveform"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.SumWaveform</span></code></a> objects.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Event.trigger_signals">
<code class="descname">trigger_signals</code><em class="property"> = array([],        dtype=[('area', '&lt;f8'), ('left_time', '&lt;i8'), ('n_contributing_channels', '&lt;i8'), ('n_pulses', '&lt;i8'), ('right_time', '&lt;i8'), ('time_mean', '&lt;f8'), ('time_rms', '&lt;f8'), ('trigger', '?'), ('type', '&lt;i8')])</em><a class="headerlink" href="#pax.datastructure.Event.trigger_signals" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of trigger signals contained in the event</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="interaction">
<h2>Interaction<a class="headerlink" href="#interaction" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.datastructure.Interaction">
<em class="property">class </em><code class="descclassname">pax.datastructure.</code><code class="descname">Interaction</code><span class="sig-paren">(</span><em>kwargs_dict=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Interaction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Interaction" title="Permalink to this definition">¶</a></dt>
<dd><p>An interaction in the TPC, reconstructed from a pair of S1 and S2 peaks.</p>
<dl class="attribute">
<dt id="pax.datastructure.Interaction.corrected_s1_area">
<code class="descname">corrected_s1_area</code><a class="headerlink" href="#pax.datastructure.Interaction.corrected_s1_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.corrected_s2_area">
<code class="descname">corrected_s2_area</code><a class="headerlink" href="#pax.datastructure.Interaction.corrected_s2_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.drift_time">
<code class="descname">drift_time</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Interaction.drift_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Drift time (ns) between s1 and s2</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.log_cs2_cs1">
<code class="descname">log_cs2_cs1</code><a class="headerlink" href="#pax.datastructure.Interaction.log_cs2_cs1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.phi">
<code class="descname">phi</code><a class="headerlink" href="#pax.datastructure.Interaction.phi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.r">
<code class="descname">r</code><a class="headerlink" href="#pax.datastructure.Interaction.r" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.s1">
<code class="descname">s1</code><em class="property"> = -99999</em><a class="headerlink" href="#pax.datastructure.Interaction.s1" title="Permalink to this definition">¶</a></dt>
<dd><p>Index (in event.peaks) of the s1 peak of this interaction</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.s1_area_correction">
<code class="descname">s1_area_correction</code><em class="property"> = 1.0</em><a class="headerlink" href="#pax.datastructure.Interaction.s1_area_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Final multiplicative correction to s1 area based on position (due to LCE variations and saturation)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.s1_pattern_fit">
<code class="descname">s1_pattern_fit</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Interaction.s1_pattern_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Goodness of fit of S1 pattern to interaction&#8217;s (x, y, drift_time)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.s1_saturation_correction">
<code class="descname">s1_saturation_correction</code><em class="property"> = 1.0</em><a class="headerlink" href="#pax.datastructure.Interaction.s1_saturation_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplicative correction on S1 due to saturation</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.s1_spatial_correction">
<code class="descname">s1_spatial_correction</code><em class="property"> = 1.0</em><a class="headerlink" href="#pax.datastructure.Interaction.s1_spatial_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplicative correction on S1 due to LCE variations</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.s2">
<code class="descname">s2</code><em class="property"> = -99999</em><a class="headerlink" href="#pax.datastructure.Interaction.s2" title="Permalink to this definition">¶</a></dt>
<dd><p>Index (in event.peaks) of the s2 peak of this interaction</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.s2_area_correction">
<code class="descname">s2_area_correction</code><em class="property"> = 1.0</em><a class="headerlink" href="#pax.datastructure.Interaction.s2_area_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Final multiplicative correction to s2 area based on position</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.s2_lifetime_correction">
<code class="descname">s2_lifetime_correction</code><em class="property"> = 1.0</em><a class="headerlink" href="#pax.datastructure.Interaction.s2_lifetime_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplicative correction on S2 due to electron lifetime</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Interaction.set_position">
<code class="descname">set_position</code><span class="sig-paren">(</span><em>recpos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Interaction.set_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Interaction.set_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the x, y position of the interaction
based on a <a class="reference internal" href="pax.html#pax.datastructure.ReconstructedPosition" title="pax.datastructure.ReconstructedPosition"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.ReconstructedPosition</span></code></a> object</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.x">
<code class="descname">x</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Interaction.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x position of the interaction (cm)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.xy_posrec_algorithm">
<code class="descname">xy_posrec_algorithm</code><em class="property"> = 'none'</em><a class="headerlink" href="#pax.datastructure.Interaction.xy_posrec_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Algorithm used to reconstruct xy position</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.xy_posrec_goodness_of_fit">
<code class="descname">xy_posrec_goodness_of_fit</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Interaction.xy_posrec_goodness_of_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>goodness-of-fit parameter of s2 hitpattern to x,y position reconstructed by PosRecTopPatternFit</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.xy_posrec_ndf">
<code class="descname">xy_posrec_ndf</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Interaction.xy_posrec_ndf" title="Permalink to this definition">¶</a></dt>
<dd><p>number of degrees of freedom calculated with PosRecTopPatternFit</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.y">
<code class="descname">y</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Interaction.y" title="Permalink to this definition">¶</a></dt>
<dd><p>y position of the interaction (cm)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Interaction.z">
<code class="descname">z</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Interaction.z" title="Permalink to this definition">¶</a></dt>
<dd><p>z position (cm) calculated from drift time.
This is simply - drift time * drift velocity</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="peak">
<h2>Peak<a class="headerlink" href="#peak" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.datastructure.Peak">
<em class="property">class </em><code class="descclassname">pax.datastructure.</code><code class="descname">Peak</code><span class="sig-paren">(</span><em>kwargs_dict=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Peak" title="Permalink to this definition">¶</a></dt>
<dd><p>A group of nearby hits across one or more channels.
Peaks will be classified as e.g. s1, s2, lone_hit, unknown, coincidence</p>
<dl class="attribute">
<dt id="pax.datastructure.Peak.area">
<code class="descname">area</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.area" title="Permalink to this definition">¶</a></dt>
<dd><p>Total area of all hits across all PMTs (pes).
In XerawdpImitation mode, rightmost sample is not included in area integral.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.area_fraction_top">
<code class="descname">area_fraction_top</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.area_fraction_top" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of area in the top PMTs</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.area_midpoint">
<code class="descname">area_midpoint</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.area_midpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Time at which the peak reaches 50% of its area (with the central sample considered fractionally)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.area_per_channel">
<code class="descname">area_per_channel</code><em class="property"> = array([], dtype=float64)</em><a class="headerlink" href="#pax.datastructure.Peak.area_per_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Total areas of all hits per PMT (pe).</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.birthing_split_fraction">
<code class="descname">birthing_split_fraction</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Peak.birthing_split_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Area of this peak / area of parent peak it was split from (if split did occur)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.birthing_split_goodness">
<code class="descname">birthing_split_goodness</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Peak.birthing_split_goodness" title="Permalink to this definition">¶</a></dt>
<dd><p>Goodness of split of last split that was used to construct this peak (if split did occur).</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.bottom_hitpattern_spread">
<code class="descname">bottom_hitpattern_spread</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Peak.bottom_hitpattern_spread" title="Permalink to this definition">¶</a></dt>
<dd><p>Weighted-average distance of bottom array hits from weighted mean hitpattern center on bottom array (cm)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.center_time">
<code class="descname">center_time</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.center_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Time since start of the event at which the peak&#8217;s sum waveform has its center of gravity [ns].</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.contributing_channels">
<code class="descname">contributing_channels</code><a class="headerlink" href="#pax.datastructure.Peak.contributing_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>List of channels which contribute one or more hits to this peak</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.detector">
<code class="descname">detector</code><em class="property"> = 'none'</em><a class="headerlink" href="#pax.datastructure.Peak.detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Detector in which the peak was found, e.g. tpc or veto</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.does_channel_contribute">
<code class="descname">does_channel_contribute</code><a class="headerlink" href="#pax.datastructure.Peak.does_channel_contribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean array of n_channels which tells you if the channel contributes any hit</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.full_range">
<code class="descname">full_range</code><a class="headerlink" href="#pax.datastructure.Peak.full_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pax.datastructure.Peak.get_position_from_preferred_algorithm">
<code class="descname">get_position_from_preferred_algorithm</code><span class="sig-paren">(</span><em>algorithm_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Peak.get_position_from_preferred_algorithm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Peak.get_position_from_preferred_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return reconstructed position by the first algorithm in list,
unless it doesn&#8217;t exist or is a nan position, then moves on to further algorithms.</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.Peak.get_reconstructed_position_from_algorithm">
<code class="descname">get_reconstructed_position_from_algorithm</code><span class="sig-paren">(</span><em>algorithm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Peak.get_reconstructed_position_from_algorithm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Peak.get_reconstructed_position_from_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return reconstructed position found by algorithm, or None if the peak doesn&#8217;t have one</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.height">
<code class="descname">height</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Height of sum waveform (in pe/bin)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.hit_time_mean">
<code class="descname">hit_time_mean</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.hit_time_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Weighted (by hit area) mean of hit times (since event start) [ns]</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.hit_time_std">
<code class="descname">hit_time_std</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.hit_time_std" title="Permalink to this definition">¶</a></dt>
<dd><p>Weighted (by hit area) std of hit times [ns]</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.hits">
<code class="descname">hits</code><em class="property"> = array([],        dtype=[('area', '&lt;f8'), ('center', '&lt;f8'), ('channel', '&lt;i8'), ('found_in_pulse', '&lt;i8'), ('height', '&lt;f8'), ('index_of_maximum', '&lt;i8'), ('is_rejected', '?'), ('left', '&lt;i8'), ('n_saturated', '&lt;i8'), ('noise_sigma', '&lt;f8'), ('right', '&lt;i8'), ('sum_absolute_deviation', '&lt;f8')])</em><a class="headerlink" href="#pax.datastructure.Peak.hits" title="Permalink to this definition">¶</a></dt>
<dd><p>The hits that make up this peak. To save space, we usually only store the hits for s1s in the root file.
Do not rely on the order of hits in this field!!
For the root output, this gets converted back to a list of Hit classes (then to a vector of c++ Hit objects)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.hits_fraction_top">
<code class="descname">hits_fraction_top</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.hits_fraction_top" title="Permalink to this definition">¶</a></dt>
<dd><p>Fraction of hits in the top array</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.hits_per_channel">
<code class="descname">hits_per_channel</code><em class="property"> = array([], dtype=int16)</em><a class="headerlink" href="#pax.datastructure.Peak.hits_per_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of hits in the peak, per channel (that is, it&#8217;s an array with index = channel number)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.index_of_maximum">
<code class="descname">index_of_maximum</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.index_of_maximum" title="Permalink to this definition">¶</a></dt>
<dd><p>Index/sample in the event&#8217;s sum waveform at which this peak has its maximum.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.interior_split_fraction">
<code class="descname">interior_split_fraction</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Peak.interior_split_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Area fraction of the smallest of the two halves considered in the best split inside the peak
(i.e. the one corresponding to interior_split_goodness)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.interior_split_goodness">
<code class="descname">interior_split_goodness</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Peak.interior_split_goodness" title="Permalink to this definition">¶</a></dt>
<dd><p>Best goodness of split observed inside the peak</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.is_channel_saturated">
<code class="descname">is_channel_saturated</code><a class="headerlink" href="#pax.datastructure.Peak.is_channel_saturated" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean array of n_channels which indicates if there was ADC saturation in any hit
in that channel during the peak</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.left">
<code class="descname">left</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.left" title="Permalink to this definition">¶</a></dt>
<dd><p>Index/sample of left bound (inclusive) in event.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.lone_hit_channel">
<code class="descname">lone_hit_channel</code><em class="property"> = -99999</em><a class="headerlink" href="#pax.datastructure.Peak.lone_hit_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>If the peak is a lone_hit: the channel the hit is / hits are in</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.mean_amplitude_to_noise">
<code class="descname">mean_amplitude_to_noise</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Peak.mean_amplitude_to_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Weighted (by area) mean hit amplitude / noise level in that hit&#8217;s channel</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.n_contributing_channels">
<code class="descname">n_contributing_channels</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.n_contributing_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of channels which contribute to the peak</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.n_contributing_channels_top">
<code class="descname">n_contributing_channels_top</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.n_contributing_channels_top" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of channels in the top array contributing to the peak</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.n_hits">
<code class="descname">n_hits</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.n_hits" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of hits in the peak</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.n_noise_pulses">
<code class="descname">n_noise_pulses</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.n_noise_pulses" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of pulses without hits in the event overlapping (in time; at least partially) with this peak.
Includes channels from other detectors (since veto and tpc cables could influence each other)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.n_saturated_channels">
<code class="descname">n_saturated_channels</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.n_saturated_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of channels in the peakw hich have at least one saturated hit</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.n_saturated_per_channel">
<code class="descname">n_saturated_per_channel</code><em class="property"> = array([], dtype=int16)</em><a class="headerlink" href="#pax.datastructure.Peak.n_saturated_per_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of samples with ADC saturation in this peak, per channel</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.n_saturated_samples">
<code class="descname">n_saturated_samples</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.n_saturated_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Total number of samples with ADC saturation threshold in all channels in this peak</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.range_50p_area">
<code class="descname">range_50p_area</code><a class="headerlink" href="#pax.datastructure.Peak.range_50p_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.range_90p_area">
<code class="descname">range_90p_area</code><a class="headerlink" href="#pax.datastructure.Peak.range_90p_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.range_area_decile">
<code class="descname">range_area_decile</code><em class="property"> = array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.])</em><a class="headerlink" href="#pax.datastructure.Peak.range_area_decile" title="Permalink to this definition">¶</a></dt>
<dd><p>Central range of peak (hit-only) sum waveform which includes a given decile (0-10) of area [ns].
e.g. range_area_decile[5] = range of 50% area = distance (in time) between point
of 25% area and 75% area (with boundary samples added fractionally).
First element (0) is always zero, last element (10) is the full range of the peak.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.reconstructed_positions">
<code class="descname">reconstructed_positions</code><em class="property"> = &lt;pax.data_model.ListField object&gt;</em><a class="headerlink" href="#pax.datastructure.Peak.reconstructed_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>List of reconstructed positions (instances of <a class="reference internal" href="pax.html#pax.datastructure.ReconstructedPosition" title="pax.datastructure.ReconstructedPosition"><code class="xref py py-class docutils literal"><span class="pre">pax.datastructure.ReconstructedPosition</span></code></a>)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.right">
<code class="descname">right</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Peak.right" title="Permalink to this definition">¶</a></dt>
<dd><p>Index/sample of right bound (INCLUSIVE) in event.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.s2_saturation_correction">
<code class="descname">s2_saturation_correction</code><em class="property"> = 1.0</em><a class="headerlink" href="#pax.datastructure.Peak.s2_saturation_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplicative correction on S2 due to saturation</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.s2_spatial_correction">
<code class="descname">s2_spatial_correction</code><em class="property"> = 1.0</em><a class="headerlink" href="#pax.datastructure.Peak.s2_spatial_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiplicative correction on S2 due to LCE variations</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.saturated_channels">
<code class="descname">saturated_channels</code><a class="headerlink" href="#pax.datastructure.Peak.saturated_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>List of channels which contribute hits with saturated channels in this peak</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.sum_waveform">
<code class="descname">sum_waveform</code><em class="property"> = array([], dtype=float32)</em><a class="headerlink" href="#pax.datastructure.Peak.sum_waveform" title="Permalink to this definition">¶</a></dt>
<dd><p>Cut-out of the peak&#8217;s sum waveform in pe/bin
The peak&#8217;s center of gravity is always in the center of the array.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.sum_waveform_top">
<code class="descname">sum_waveform_top</code><em class="property"> = array([], dtype=float32)</em><a class="headerlink" href="#pax.datastructure.Peak.sum_waveform_top" title="Permalink to this definition">¶</a></dt>
<dd><p>For tpc peaks, the peak&#8217;s sum waveform in the top array only. Aligned with the sum waveform.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.top_hitpattern_spread">
<code class="descname">top_hitpattern_spread</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Peak.top_hitpattern_spread" title="Permalink to this definition">¶</a></dt>
<dd><p>Weighted-average distance of top array hits from weighted mean hitpattern center on top array (cm)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Peak.type">
<code class="descname">type</code><em class="property"> = 'unknown'</em><a class="headerlink" href="#pax.datastructure.Peak.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of peak (e.g., &#8216;s1&#8217;, &#8216;s2&#8217;, ...):
NB &#8216;lone_hit&#8217; incicates one or more hits in a single channel. Use lone_hit_channel to retrieve that channel.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="reconstructedposition">
<h2>ReconstructedPosition<a class="headerlink" href="#reconstructedposition" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.datastructure.ReconstructedPosition">
<em class="property">class </em><code class="descclassname">pax.datastructure.</code><code class="descname">ReconstructedPosition</code><span class="sig-paren">(</span><em>kwargs_dict=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#ReconstructedPosition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.ReconstructedPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstructed position</p>
<p>Each reconstruction algorithm creates one of these.</p>
<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.algorithm">
<code class="descname">algorithm</code><em class="property"> = 'none'</em><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of algorithm which provided this position</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.confidence_tuples">
<code class="descname">confidence_tuples</code><em class="property"> = &lt;pax.data_model.ListField object&gt;</em><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.confidence_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Confidence_levels</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.goodness_of_fit">
<code class="descname">goodness_of_fit</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.goodness_of_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Goodness-of-fit of hitpattern to position (provided by PosRecTopPatternFit)
For PosRecThreedPatternFit, the 3d position goodness-of-fit.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.ndf">
<code class="descname">ndf</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.ndf" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of degrees of freedom used in goodness-of-fit calculation</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.phi">
<code class="descname">phi</code><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.phi" title="Permalink to this definition">¶</a></dt>
<dd><p>Angular position (radians, origin at positive x-axis)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.r">
<code class="descname">r</code><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.r" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial position</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.x">
<code class="descname">x</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x position (cm)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.y">
<code class="descname">y</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.y" title="Permalink to this definition">¶</a></dt>
<dd><p>y position (cm)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.ReconstructedPosition.z">
<code class="descname">z</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.ReconstructedPosition.z" title="Permalink to this definition">¶</a></dt>
<dd><p>For 3d-position reconstruction algorithms, the z-position (cm)
This is NOT related to drift time, which is an interaction-level quantity!</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="hit">
<h2>Hit<a class="headerlink" href="#hit" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.datastructure.Hit">
<em class="property">class </em><code class="descclassname">pax.datastructure.</code><code class="descname">Hit</code><span class="sig-paren">(</span><em>kwargs_dict=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Hit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Hit" title="Permalink to this definition">¶</a></dt>
<dd><p>A significant upwards fluctuation in a channel,
usually indicative of one or more detected photo-electrons.
These are clustered into groups called peaks later.</p>
<p>Inside pax this Hit class is rarely used, for performance reasons;
instead we build a numpy dtype from this declaration, and use it in arrays of hits.</p>
<dl class="attribute">
<dt id="pax.datastructure.Hit.area">
<code class="descname">area</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Hit.area" title="Permalink to this definition">¶</a></dt>
<dd><p>Area of the hit in photoelectrons</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.center">
<code class="descname">center</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Hit.center" title="Permalink to this definition">¶</a></dt>
<dd><p>Time (since start of event in ns) of hit&#8217;s center of gravity</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.channel">
<code class="descname">channel</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Hit.channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Channel in which this hit was found</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.found_in_pulse">
<code class="descname">found_in_pulse</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Hit.found_in_pulse" title="Permalink to this definition">¶</a></dt>
<dd><p>Index of pulse (in event.pulses) in which hit was found</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.height">
<code class="descname">height</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Hit.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Height of highest point in hit (in pe/sample)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.index_of_maximum">
<code class="descname">index_of_maximum</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Hit.index_of_maximum" title="Permalink to this definition">¶</a></dt>
<dd><p>Index/sample in the event at which this hit has its maximum.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.is_rejected">
<code class="descname">is_rejected</code><em class="property"> = False</em><a class="headerlink" href="#pax.datastructure.Hit.is_rejected" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to True if rejected by suspicious channel algorithm.
This means the hit should be disregarded by clustering algorithms.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.left">
<code class="descname">left</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Hit.left" title="Permalink to this definition">¶</a></dt>
<dd><p>Index/sample of left bound (inclusive) of hit in event.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.length">
<code class="descname">length</code><a class="headerlink" href="#pax.datastructure.Hit.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Length of the hit (in samples)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.n_saturated">
<code class="descname">n_saturated</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Hit.n_saturated" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of samples in this hit where the ADC saturates</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.noise_sigma">
<code class="descname">noise_sigma</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Hit.noise_sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise sigma in pe/sample of the pulse in which the hit was found.
Note: in Pulse the same number is stored in ADC-counts.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.right">
<code class="descname">right</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Hit.right" title="Permalink to this definition">¶</a></dt>
<dd><p>Index/sample of right bound (INCLUSIVE!!) of hit in event.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Hit.sum_absolute_deviation">
<code class="descname">sum_absolute_deviation</code><em class="property"> = 0.0</em><a class="headerlink" href="#pax.datastructure.Hit.sum_absolute_deviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Weighted sum of absolute deviation (in ns) of hit waveform from hit center</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="waveforms">
<h2>Waveforms<a class="headerlink" href="#waveforms" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.datastructure.SumWaveform">
<em class="property">class </em><code class="descclassname">pax.datastructure.</code><code class="descname">SumWaveform</code><span class="sig-paren">(</span><em>kwargs_dict=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#SumWaveform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.SumWaveform" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used to store sum (filtered or not) waveform information.</p>
<dl class="attribute">
<dt id="pax.datastructure.SumWaveform.channel_list">
<code class="descname">channel_list</code><em class="property"> = array([], dtype=uint16)</em><a class="headerlink" href="#pax.datastructure.SumWaveform.channel_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of PMT numbers included in this waveform</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.SumWaveform.detector">
<code class="descname">detector</code><em class="property"> = 'none'</em><a class="headerlink" href="#pax.datastructure.SumWaveform.detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the detector this waveform belongs to (e.g. tpc or veto)</p>
</dd></dl>

<dl class="method">
<dt id="pax.datastructure.SumWaveform.is_filtered">
<code class="descname">is_filtered</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#SumWaveform.is_filtered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.SumWaveform.is_filtered" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.SumWaveform.name">
<code class="descname">name</code><em class="property"> = 'none'</em><a class="headerlink" href="#pax.datastructure.SumWaveform.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of this sum waveform</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.SumWaveform.name_of_filter">
<code class="descname">name_of_filter</code><em class="property"> = 'none'</em><a class="headerlink" href="#pax.datastructure.SumWaveform.name_of_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the filter used (or &#8216;none&#8217;)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.SumWaveform.samples">
<code class="descname">samples</code><em class="property"> = array([], dtype=float32)</em><a class="headerlink" href="#pax.datastructure.SumWaveform.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of samples, units of pe/bin.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pulse">
<h2>Pulse<a class="headerlink" href="#pulse" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pax.datastructure.Pulse">
<em class="property">class </em><code class="descclassname">pax.datastructure.</code><code class="descname">Pulse</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pax/datastructure.html#Pulse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pax.datastructure.Pulse" title="Permalink to this definition">¶</a></dt>
<dd><p>A region of raw digitizer data.
For DAQs with zero-length encoding or self-triggering, there will be several of these per channel per event.</p>
<p>Remember that PMT signals show as downward fluctuations in raw digitizer data.
In processed data output, only pulses contributing hits to S1s are stored (except in LED mode), and the
raw_data field is never stored.</p>
<dl class="attribute">
<dt id="pax.datastructure.Pulse.baseline">
<code class="descname">baseline</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Pulse.baseline" title="Permalink to this definition">¶</a></dt>
<dd><p>Baseline, in ADC counts relative to reference baseline &#8211; but float!
This is the highest (in signal direction, lowest in raw ADC) of the two baselines computed
at the start and at the end of the pulse.
Use the sign of the baseline_increase field to figure out which: if positive, it is the one at the end.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.baseline_increase">
<code class="descname">baseline_increase</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Pulse.baseline_increase" title="Permalink to this definition">¶</a></dt>
<dd><p>Baseline at end of the pulse (relative to reference) - baseline at start of pulse (relative to reference)
E.g. if it is positive, the baseline increased in signal-like direction = decreased in raw ADC.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.channel">
<code class="descname">channel</code><em class="property"> = -99999</em><a class="headerlink" href="#pax.datastructure.Pulse.channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Channel number the pulse belongs to</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.left">
<code class="descname">left</code><em class="property"> = -99999</em><a class="headerlink" href="#pax.datastructure.Pulse.left" title="Permalink to this definition">¶</a></dt>
<dd><p>Start index/sample of this pulse (inclusive)
This refers to a hypothetical array containing the event waveform information.
For example, 0 is the first sample that could exist in the event, 1 the second, etc.</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.length">
<code class="descname">length</code><a class="headerlink" href="#pax.datastructure.Pulse.length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.maximum">
<code class="descname">maximum</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Pulse.maximum" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum amplitude reached in the pulse (in ADC counts above pulse baseline)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.minimum">
<code class="descname">minimum</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Pulse.minimum" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum amplitude (in ADC counts above pulse baseline, so should be negative)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.n_hits_found">
<code class="descname">n_hits_found</code><em class="property"> = 0</em><a class="headerlink" href="#pax.datastructure.Pulse.n_hits_found" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of hits found in this pulse</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.noise_sigma">
<code class="descname">noise_sigma</code><em class="property"> = nan</em><a class="headerlink" href="#pax.datastructure.Pulse.noise_sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Noise sigma for this pulse (in ADC counts - but float!)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.raw_data">
<code class="descname">raw_data</code><em class="property"> = array([], dtype=int16)</em><a class="headerlink" href="#pax.datastructure.Pulse.raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Raw wave data (numpy array of int16, raw ADC counts)</p>
</dd></dl>

<dl class="attribute">
<dt id="pax.datastructure.Pulse.right">
<code class="descname">right</code><em class="property"> = -99999</em><a class="headerlink" href="#pax.datastructure.Pulse.right" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop index/sample of this pulse (INCLUSIVE!)</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Event format</a><ul>
<li><a class="reference internal" href="#event">Event</a></li>
<li><a class="reference internal" href="#interaction">Interaction</a></li>
<li><a class="reference internal" href="#peak">Peak</a></li>
<li><a class="reference internal" href="#reconstructedposition">ReconstructedPosition</a></li>
<li><a class="reference internal" href="#hit">Hit</a></li>
<li><a class="reference internal" href="#waveforms">Waveforms</a></li>
<li><a class="reference internal" href="#pulse">Pulse</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="faq.html" title="previous chapter">Installation and setup</a></li>
      <li>Next: <a href="plugin.html" title="next chapter">Plugins</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/format.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, Christopher Tunnell.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/format.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>